---
phase: 17-pwa-performance-readme-polish
plan: 05
type: execute
wave: 3
depends_on: ["17-01", "17-02", "17-03", "17-04"]
files_modified:
  - .planning/STATE.md
  - .planning/PROJECT.md
autonomous: false

must_haves:
  truths:
    - "Build succeeds with service worker, manifest, and icons in dist/"
    - "Bundle size check passes in local run"
    - "README is complete and accurate"
    - "All tabs have consistent UX states"
    - "Project state updated to reflect v1.3 completion"
  artifacts:
    - path: ".planning/STATE.md"
      provides: "Updated project state reflecting v1.3 completion"
    - path: ".planning/PROJECT.md"
      provides: "Updated project reference"
  key_links: []
---

<objective>
Verify all Phase 17 deliverables work together and update project state to reflect v1.3 milestone completion.

Purpose: Final integration check ensures PWA, performance, README, and polish work together. Project state must be updated for milestone closure.

Output: Verified build, updated STATE.md and PROJECT.md.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/17-pwa-performance-readme-polish/17-01-SUMMARY.md
@.planning/phases/17-pwa-performance-readme-polish/17-02-SUMMARY.md
@.planning/phases/17-pwa-performance-readme-polish/17-03-SUMMARY.md
@.planning/phases/17-pwa-performance-readme-polish/17-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run full build and integration verification</name>
  <files></files>
  <action>
Run all verification steps in sequence:

1. `npx tsc --noEmit` -- TypeScript type checking
2. `npm run test` -- Unit tests pass
3. `npm run build` -- Full production build succeeds
4. Verify dist/ contains:
   - Service worker file (sw.js or similar)
   - manifest.webmanifest
   - PWA icon files (pwa-192x192.png, pwa-512x512.png, maskable-icon-512x512.png)
   - No coi-serviceworker.js
5. `bash scripts/check-bundle-size.sh dist` -- Bundle size budgets pass
6. Verify README.md has:
   - Live demo badge
   - Getting Started section
   - Architecture diagrams
7. Verify PERFORMANCE.md has:
   - Bundle size table with real numbers
   - Lighthouse targets

Report any failures. If all pass, proceed to Task 2.
  </action>
  <verify>
All 7 verification steps pass.
  </verify>
  <done>Full build passes with SW, manifest, icons; tests pass; bundle size within budget; README and PERFORMANCE.md complete</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete PWA setup, performance budgets, README overhaul, and UX polish pass for the final v1.3 phase</what-built>
  <how-to-verify>
1. Run `npm run dev` and visit http://localhost:5173
2. Check all four tabs (Workouts, Templates, Analytics, Settings) for consistent loading/empty states
3. Check that the app header shows "GymLog" with orange accent
4. Open browser DevTools -> Application tab:
   - Verify Service Worker is registered (may show in production build only)
   - Verify Manifest is detected with correct name and icons
5. Review README.md on GitHub (or locally) -- check Mermaid diagrams render, links work
6. Review PERFORMANCE.md for accuracy
7. If deploying to GitHub Pages: verify PWA install prompt appears on mobile

Note: Full PWA/offline testing requires a production build served with HTTPS. Dev mode may not show SW features.
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Update project state for v1.3 milestone completion</name>
  <files>.planning/STATE.md, .planning/PROJECT.md</files>
  <action>
1. Update `.planning/STATE.md`:
   - Current Position: Phase 17 of 17 complete
   - Status: Phase complete / Milestone complete
   - Progress bar: 100%
   - Add Phase 17 to the velocity table
   - Update "Current focus" to: v1.3 Production Polish & Deploy Readiness COMPLETE
   - Clear pending todos and blockers
   - Update session continuity

2. Update `.planning/PROJECT.md`:
   - Version: v1.3 Production Polish & Deploy Readiness (shipped YYYY-MM-DD)
   - Move PWA, Performance, README, Polish requirements from Active to Validated
   - Update "What's Working" list to include PWA offline support, performance budgets, portfolio README
   - Update codebase stats (commits, phases, plans)
   - Update key decisions table (vite-plugin-pwa, Workbox, bundle size budgets)
  </action>
  <verify>
- STATE.md shows Phase 17 complete, v1.3 milestone complete
- PROJECT.md shows v1.3 shipped with current date
- All Phase 17 requirements moved to Validated
  </verify>
  <done>Project state reflects v1.3 milestone completion; all 17 phases documented as complete</done>
</task>

</tasks>

<verification>
1. Full build + test suite passes
2. User verifies PWA and UX in browser
3. Project state updated for milestone closure
</verification>

<success_criteria>
- All Phase 17 deliverables verified working together
- User confirms visual/functional quality
- v1.3 milestone marked complete in project state
- All 17 phases across 4 milestones documented as shipped
</success_criteria>

<output>
After completion, create `.planning/phases/17-pwa-performance-readme-polish/17-05-SUMMARY.md`
</output>
