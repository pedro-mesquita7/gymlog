---
phase: 14-workouts-ux-color
plan: 02
type: execute
wave: 2
depends_on: ["14-01"]
files_modified:
  - src/components/workout/StartWorkout.tsx
  - src/components/workout/ActiveWorkout.tsx
  - src/components/workout/ExerciseView.tsx
  - src/components/workout/SetRow.tsx
  - src/components/workout/SetGrid.tsx
  - src/components/workout/SetLogger.tsx
  - src/components/workout/WorkoutComplete.tsx
  - src/components/workout/ExerciseSubstitution.tsx
  - src/components/workout/ProgressionAlert.tsx
  - src/components/workout/RestTimer.tsx
  - src/components/rotation/QuickStartCard.tsx
  - src/components/rotation/RotationEditor.tsx
autonomous: true

must_haves:
  truths:
    - "All workout components use semantic color tokens instead of hardcoded zinc/color classes"
    - "Workout flow visually consistent with new soft dark theme"
    - "PR indicators use success token, errors use error token"
  artifacts:
    - path: "src/components/workout/WorkoutComplete.tsx"
      provides: "Post-workout summary with semantic tokens"
    - path: "src/components/workout/SetRow.tsx"
      provides: "Set logging row with semantic tokens"
  key_links:
    - from: "src/components/workout/*.tsx"
      to: "src/index.css"
      via: "Tailwind semantic token classes"
      pattern: "bg-bg-|text-text-|border-border-|text-success|text-error"
---

<objective>
Migrate all workout and rotation components from hardcoded zinc/color classes to semantic OKLCH tokens.

Purpose: The workout flow is the most-used part of the app. After Plan 01 establishes the token system, this plan ensures every workout screen uses it consistently.

Output: 12 workout/rotation component files using only semantic token classes. Zero hardcoded zinc-* references.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-workouts-ux-color/14-01-SUMMARY.md

Key source files — read each before modifying:
@src/components/workout/StartWorkout.tsx
@src/components/workout/ActiveWorkout.tsx
@src/components/workout/ExerciseView.tsx
@src/components/workout/SetRow.tsx
@src/components/workout/SetGrid.tsx
@src/components/workout/SetLogger.tsx
@src/components/workout/WorkoutComplete.tsx
@src/components/workout/ExerciseSubstitution.tsx
@src/components/workout/ProgressionAlert.tsx
@src/components/workout/RestTimer.tsx
@src/components/rotation/QuickStartCard.tsx
@src/components/rotation/RotationEditor.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate workout components (high-count files)</name>
  <files>
    src/components/workout/WorkoutComplete.tsx
    src/components/workout/ExerciseSubstitution.tsx
    src/components/workout/SetRow.tsx
    src/components/workout/SetLogger.tsx
    src/components/workout/ExerciseView.tsx
    src/components/workout/ActiveWorkout.tsx
  </files>
  <action>
Read each file and replace ALL hardcoded color classes with semantic equivalents. These 6 files contain ~71 zinc refs and ~30 semantic color refs (red-/green-/amber-*).

**Mapping rules (apply consistently across ALL files):**

Backgrounds:
- `bg-zinc-950` → `bg-bg-primary`
- `bg-zinc-900` → `bg-bg-secondary`
- `bg-zinc-800` / `bg-zinc-800/50` / `bg-zinc-800/30` → `bg-bg-tertiary` (adjust opacity as needed: `bg-bg-tertiary/50`, etc.)
- `bg-zinc-700` → `bg-bg-elevated`

Text:
- `text-zinc-100` / `text-white` → `text-text-primary`
- `text-zinc-200` / `text-zinc-300` → `text-text-primary` (close enough)
- `text-zinc-400` → `text-text-secondary`
- `text-zinc-500` / `text-zinc-600` → `text-text-muted`

Borders:
- `border-zinc-700` / `border-zinc-800` → `border-border-primary`
- `border-zinc-600` → `border-border-secondary`

Hover states:
- `hover:bg-zinc-700` / `hover:bg-zinc-800` → `hover:bg-bg-elevated`
- `hover:text-zinc-100` → `hover:text-text-primary`

Semantic colors:
- `text-green-400` / `text-green-500` / `text-emerald-400` → `text-success`
- `bg-green-400/10` / `bg-green-500/10` / `bg-emerald-400/10` → `bg-success/10`
- `text-red-400` / `text-red-500` → `text-error`
- `bg-red-400/10` / `bg-red-500/10` → `bg-error/10`
- `text-amber-400` / `text-yellow-400` → `text-warning`
- `bg-amber-400/10` / `bg-yellow-400/10` → `bg-warning/10`
- `text-blue-400` → `text-info` (add `--color-info: oklch(65% 0.15 250)` to @theme if not present)
- `border-green-*` → `border-success`
- `border-red-*` → `border-error`

**Do NOT change:**
- data-testid attributes
- Component props/interfaces
- Any logic or behavior
- Tailwind utility classes that aren't colors (spacing, flex, grid, etc.)
  </action>
  <verify>
Run `npx vitest run` — all tests pass.
Run `grep -rn "zinc-\|red-[0-9]\|green-[0-9]\|amber-[0-9]\|yellow-[0-9]\|emerald-[0-9]\|blue-[0-9]" src/components/workout/WorkoutComplete.tsx src/components/workout/ExerciseSubstitution.tsx src/components/workout/SetRow.tsx src/components/workout/SetLogger.tsx src/components/workout/ExerciseView.tsx src/components/workout/ActiveWorkout.tsx` — zero matches.
  </verify>
  <done>6 workout component files use semantic tokens exclusively. Zero hardcoded color references.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate remaining workout + rotation components</name>
  <files>
    src/components/workout/StartWorkout.tsx
    src/components/workout/SetGrid.tsx
    src/components/workout/ProgressionAlert.tsx
    src/components/workout/RestTimer.tsx
    src/components/rotation/QuickStartCard.tsx
    src/components/rotation/RotationEditor.tsx
  </files>
  <action>
Read each file and apply the same mapping rules from Task 1. These 6 files have ~20 zinc refs and ~12 semantic color refs.

**StartWorkout.tsx** (5 zinc): labels, empty state text, heading subtitle — all zinc-400/zinc-500 → text-text-secondary/text-text-muted.

**SetGrid.tsx** (2 zinc): background/border → bg-bg-tertiary/border-border-primary.

**ProgressionAlert.tsx** (9 semantic color refs): green/red/amber indicators → success/error/warning tokens. Read carefully — this file uses color to communicate progression status.

**RestTimer.tsx** (1 ref): Read and migrate.

**QuickStartCard.tsx** — Already mostly uses semantic tokens. Verify no zinc refs remain.

**RotationEditor.tsx** (1 ref): Read and migrate.

Same rules: do NOT change data-testid, interfaces, or behavior.
  </action>
  <verify>
Run `npx vitest run` — all tests pass.
Run `grep -rn "zinc-" src/components/workout/ src/components/rotation/` — zero matches.
Run `grep -rn "red-[0-9]\|green-[0-9]\|amber-[0-9]\|yellow-[0-9]\|emerald-[0-9]" src/components/workout/ src/components/rotation/` — zero matches.
Run `npx vite build` — build succeeds.
  </verify>
  <done>All 12 workout/rotation files use semantic tokens exclusively. Zero hardcoded color classes in the entire workout directory.</done>
</task>

</tasks>

<verification>
1. `npx vite build` succeeds
2. `npx vitest run` — all tests pass
3. `grep -rn "zinc-" src/components/workout/ src/components/rotation/` — zero matches
4. `grep -rn "red-[0-9]\|green-[0-9]\|amber-[0-9]\|yellow-[0-9]" src/components/workout/ src/components/rotation/` — zero matches
</verification>

<success_criteria>
- All 12 workout/rotation component files migrated to semantic tokens
- Zero hardcoded zinc-* or named-color-* references in workout/ and rotation/ directories
- Build passes, all tests pass
- Workout flow renders correctly with new color system
</success_criteria>

<output>
After completion, create `.planning/phases/14-workouts-ux-color/14-02-SUMMARY.md`
</output>
