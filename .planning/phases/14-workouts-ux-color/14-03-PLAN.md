---
phase: 14-workouts-ux-color
plan: 03
type: execute
wave: 2
depends_on: ["14-01"]
files_modified:
  - src/components/analytics/AnalyticsPage.tsx
  - src/components/analytics/WeekComparisonCard.tsx
  - src/components/analytics/MuscleHeatMap.tsx
  - src/components/analytics/VolumeZoneIndicator.tsx
  - src/components/analytics/ProgressionStatusCard.tsx
  - src/components/analytics/ExerciseProgressChart.tsx
  - src/components/analytics/CollapsibleSection.tsx
  - src/components/analytics/PRListCard.tsx
  - src/components/analytics/ProgressionDashboard.tsx
  - src/components/analytics/VolumeBarChart.tsx
  - src/components/history/ExerciseHistory.tsx
  - src/components/history/PRList.tsx
  - src/components/history/EstimatedMaxDisplay.tsx
  - src/components/templates/ExerciseRow.tsx
  - src/components/templates/ExerciseList.tsx
  - src/components/ExerciseList.tsx
  - src/components/GymList.tsx
  - src/components/settings/RotationSection.tsx
  - src/components/backup/BackupReminder.tsx
  - src/components/backup/BackupSettings.tsx
autonomous: true

must_haves:
  truths:
    - "All analytics components use semantic tokens instead of hardcoded zinc/color classes"
    - "All history components use semantic tokens"
    - "All template and management components use semantic tokens"
    - "Chart colors reference OKLCH chart tokens"
  artifacts:
    - path: "src/components/analytics/AnalyticsPage.tsx"
      provides: "Analytics page with semantic tokens"
    - path: "src/components/history/ExerciseHistory.tsx"
      provides: "Exercise history with semantic tokens"
  key_links:
    - from: "src/components/analytics/*.tsx"
      to: "src/index.css"
      via: "Tailwind semantic token classes"
      pattern: "bg-bg-|text-text-|border-border-"
---

<objective>
Migrate all remaining components (analytics, history, templates, management, settings, backup) from hardcoded zinc/color classes to semantic OKLCH tokens.

Purpose: Completes the full-app color migration. After Plan 01 (tokens + UI primitives) and Plan 02 (workout components), this plan covers the remaining ~20 files with ~120 hardcoded color references.

Output: Every component file in the app uses semantic tokens. Zero hardcoded zinc-* or named-color classes anywhere in src/components/.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-workouts-ux-color/14-01-SUMMARY.md

Read each file before modifying — the analytics files in particular have complex color usage for charts and data visualization.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate analytics components</name>
  <files>
    src/components/analytics/AnalyticsPage.tsx
    src/components/analytics/WeekComparisonCard.tsx
    src/components/analytics/MuscleHeatMap.tsx
    src/components/analytics/VolumeZoneIndicator.tsx
    src/components/analytics/ProgressionStatusCard.tsx
    src/components/analytics/ExerciseProgressChart.tsx
    src/components/analytics/CollapsibleSection.tsx
    src/components/analytics/PRListCard.tsx
    src/components/analytics/ProgressionDashboard.tsx
    src/components/analytics/VolumeBarChart.tsx
  </files>
  <action>
Read each analytics file and replace ALL hardcoded color classes with semantic equivalents.

**Use the same mapping rules established in Plan 02:**

Backgrounds: zinc-950→bg-primary, zinc-900→bg-secondary, zinc-800→bg-tertiary, zinc-700→bg-elevated
Text: zinc-100/white→text-primary, zinc-300→text-primary, zinc-400→text-secondary, zinc-500/600→text-muted
Borders: zinc-700/800→border-primary, zinc-600→border-secondary
Semantic: green-*→success, red-*→error, amber-*/yellow-*→warning, blue-*→info

**Special attention for analytics:**
- AnalyticsPage.tsx (17 zinc + 4 semantic) — heaviest file. Has section headers, card containers, data labels. Migrate all.
- WeekComparisonCard.tsx (10 zinc + 2 semantic) — comparison arrows use green/red for up/down. Map to success/error.
- MuscleHeatMap.tsx (10 zinc) — background/text only, not the actual heat map colors (those are computed dynamically).
- ProgressionStatusCard.tsx (6 zinc + 10 semantic) — heavy use of green/red/amber for progression status. Map carefully: green→success, red→error, amber→warning.
- ProgressionDashboard.tsx (2 zinc + 10 semantic) — similar progression status colors.
- VolumeZoneIndicator.tsx (7 zinc + 3 semantic) — zone indicators with green/amber colors.
- ExerciseProgressChart.tsx (3 zinc) — chart wrapper backgrounds and labels.
- CollapsibleSection.tsx (3 zinc) — summary/details styling.
- PRListCard.tsx (1 zinc) — simple card background.
- VolumeBarChart.tsx (1 zinc) — chart container.

**For Recharts inline styles:** If any files use inline `style={{ color: '#...' }}` or Recharts props like `stroke="#..."`, leave those as-is for now. Only migrate Tailwind class-based colors. Recharts styling is addressed separately when/if the analytics redesign happens (Phase 15).

Do NOT change data-testid attributes, component logic, or Recharts configuration.
  </action>
  <verify>
Run `grep -rn "zinc-" src/components/analytics/` — zero matches.
Run `grep -rn "red-[0-9]\|green-[0-9]\|amber-[0-9]\|yellow-[0-9]\|emerald-[0-9]\|blue-[0-9]" src/components/analytics/` — zero matches.
Run `npx vitest run` — all tests pass.
  </verify>
  <done>All 10 analytics component files use semantic tokens exclusively. Zero hardcoded color classes.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate history, templates, management, settings, and backup components</name>
  <files>
    src/components/history/ExerciseHistory.tsx
    src/components/history/PRList.tsx
    src/components/history/EstimatedMaxDisplay.tsx
    src/components/templates/ExerciseRow.tsx
    src/components/templates/ExerciseList.tsx
    src/components/ExerciseList.tsx
    src/components/GymList.tsx
    src/components/settings/RotationSection.tsx
    src/components/backup/BackupReminder.tsx
    src/components/backup/BackupSettings.tsx
  </files>
  <action>
Read each file and replace ALL hardcoded color classes with semantic equivalents using the same mapping rules.

**History components:**
- ExerciseHistory.tsx (11 zinc + 3 semantic) — tabs, selected states, session cards. Use bg-bg-tertiary for selected tab, text-text-secondary for labels.
- PRList.tsx (8 zinc + 2 semantic) — PR badges with green. Map green→success.
- EstimatedMaxDisplay.tsx (5 zinc) — backgrounds and text.

**Template components:**
- ExerciseRow.tsx (17 zinc + 1 semantic) — heaviest template file. Has drag handles, exercise details, action buttons. Map all zinc to semantic tokens.
- templates/ExerciseList.tsx (1 zinc) — minor ref.

**Management components:**
- ExerciseList.tsx (2 zinc) — exercise management list.
- GymList.tsx — Read first to check for zinc refs (may already use semantic tokens).

**Settings/Backup:**
- RotationSection.tsx (1 semantic ref) — read and check for any zinc.
- BackupReminder.tsx — Read first, migrate any zinc refs.
- BackupSettings.tsx — Read first, migrate any zinc refs.

After migrating all files, do a final sweep: `grep -rn "zinc-" src/components/` to catch ANY remaining zinc references in the entire components directory. Fix any stragglers.

Do NOT change data-testid attributes, component logic, or drag-and-drop behavior.
  </action>
  <verify>
Run `grep -rn "zinc-" src/components/` — ZERO matches across ALL component files.
Run `grep -rn "red-[0-9]\|green-[0-9]\|amber-[0-9]\|yellow-[0-9]\|emerald-[0-9]\|blue-[0-9]" src/components/` — ZERO matches.
Run `npx vitest run` — all tests pass.
Run `npx vite build` — build succeeds.
  </verify>
  <done>Every component in src/components/ uses semantic tokens exclusively. Zero hardcoded zinc or named color references remain in the entire codebase components directory.</done>
</task>

</tasks>

<verification>
1. `grep -rn "zinc-" src/components/` — zero matches in entire components tree
2. `grep -rn "red-[0-9]\|green-[0-9]\|amber-[0-9]\|yellow-[0-9]" src/components/` — zero matches
3. `npx vitest run` — all tests pass
4. `npx vite build` — build succeeds
5. App renders consistently across all tabs with the new OKLCH color system
</verification>

<success_criteria>
- All ~20 remaining component files migrated to semantic tokens
- Zero hardcoded zinc-* or named-color-* references in entire src/components/ directory
- Build passes, all tests pass
- Analytics, history, templates, settings all render with new token system
</success_criteria>

<output>
After completion, create `.planning/phases/14-workouts-ux-color/14-03-SUMMARY.md`
</output>
