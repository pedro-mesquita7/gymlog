---
phase: 14-workouts-ux-color
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/index.css
  - src/components/ui/Button.tsx
  - src/components/ui/Card.tsx
  - src/components/ui/Input.tsx
  - src/components/ui/Dialog.tsx
  - src/components/ui/NumberStepper.tsx
  - src/components/ui/ErrorCard.tsx
  - src/components/Navigation.tsx
  - src/App.tsx
autonomous: true

must_haves:
  truths:
    - "All background, text, and border colors use OKLCH values via semantic tokens"
    - "App background is soft dark gray (~18% lightness), not near-black"
    - "Cards are visibly elevated above page background via brightness layering"
    - "UI primitives (Button, Card, Input, Dialog) use semantic tokens exclusively"
  artifacts:
    - path: "src/index.css"
      provides: "Complete OKLCH color token system in @theme"
      contains: "oklch"
    - path: "src/components/ui/Button.tsx"
      provides: "Button with semantic token classes"
    - path: "src/components/ui/Card.tsx"
      provides: "Card with semantic token classes"
  key_links:
    - from: "src/index.css"
      to: "all components"
      via: "Tailwind @theme tokens"
      pattern: "bg-bg-|text-text-|border-border-"
---

<objective>
Establish the OKLCH color token system and migrate all UI primitives from hardcoded zinc/hex colors to semantic tokens.

Purpose: Creates the visual foundation that all subsequent plans build on. Shifting from near-black (#09090b) to soft dark gray backgrounds gives the app a modern Linear/Notion feel, and converting all tokens to OKLCH ensures perceptual uniformity.

Output: Updated index.css with full OKLCH @theme, all UI primitives (Button, Card, Input, Dialog, NumberStepper, ErrorCard) using semantic tokens, Navigation and App.tsx body/header migrated.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-workouts-ux-color/14-RESEARCH.md

Key source files:
@src/index.css
@src/components/ui/Button.tsx
@src/components/ui/Card.tsx
@src/components/ui/Input.tsx
@src/components/ui/Dialog.tsx
@src/components/ui/NumberStepper.tsx
@src/components/ui/ErrorCard.tsx
@src/components/Navigation.tsx
@src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: OKLCH color token system in @theme</name>
  <files>src/index.css</files>
  <action>
Replace the entire `@theme` block in index.css with a comprehensive OKLCH color token system. The new palette should follow the Linear/Notion dark mode aesthetic — soft dark gray, not near-black.

**Background layers (progressive brightness):**
- `--color-bg-primary`: oklch(18% 0.01 270) — page background (was #09090b / zinc-950)
- `--color-bg-secondary`: oklch(22% 0.01 270) — card backgrounds (was #18181b / zinc-900)
- `--color-bg-tertiary`: oklch(27% 0.01 270) — inputs, hover states (was #27272a / zinc-800)
- `--color-bg-elevated`: oklch(30% 0.01 270) — elevated surfaces, active states

**Text hierarchy:**
- `--color-text-primary`: oklch(90% 0.005 270) — primary text (soft white, not pure white)
- `--color-text-secondary`: oklch(72% 0.01 270) — labels, secondary info
- `--color-text-muted`: oklch(55% 0.01 270) — placeholders, hints

**Borders:**
- `--color-border-primary`: oklch(27% 0.01 270) — subtle card borders
- `--color-border-secondary`: oklch(35% 0.01 270) — focus states, stronger separation

**Accent (orange):**
- `--color-accent`: oklch(72% 0.19 45) — primary orange (brighter than before for pop on softer bg)
- `--color-accent-hover`: oklch(65% 0.17 45) — hover/pressed state
- `--color-accent-muted`: oklch(72% 0.06 45) — subtle accent backgrounds

**Semantic colors:**
- `--color-success`: oklch(65% 0.17 145) — PRs, positive
- `--color-error`: oklch(63% 0.22 25) — errors, destructive
- `--color-warning`: oklch(75% 0.15 85) — warnings

**Chart colors:**
- `--color-chart-primary`: oklch(60% 0.15 250) — blue data series
- `--color-chart-success`: oklch(62% 0.15 145) — green/1RM
- `--color-chart-muted`: oklch(55% 0.02 270) — axes/grid

Keep legacy HSL variables (--chart-primary, --chart-success, --chart-muted, --accent) for backward compat until all components are migrated. Keep font and radius tokens unchanged.

Update the `@layer base` body rule from `@apply bg-zinc-950 text-zinc-100` to `@apply bg-bg-primary text-text-primary`.

Remove the legacy `.text-accent`, `.bg-accent`, `.border-accent` utility classes from `@layer components` — Tailwind v4 generates these automatically from the token names.
  </action>
  <verify>Run `npx vite build` — build succeeds with no CSS errors. Grep index.css for "zinc" — only legacy HSL comment references remain, no zinc in actual token values.</verify>
  <done>All @theme tokens use OKLCH values. Body uses bg-bg-primary/text-text-primary. Background shifted from near-black to soft dark gray.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate UI primitives and shell to semantic tokens</name>
  <files>
    src/components/ui/Button.tsx
    src/components/ui/Card.tsx
    src/components/ui/Input.tsx
    src/components/ui/Dialog.tsx
    src/components/ui/NumberStepper.tsx
    src/components/ui/ErrorCard.tsx
    src/components/Navigation.tsx
    src/App.tsx
  </files>
  <action>
Replace ALL hardcoded zinc-* and color-* Tailwind classes with semantic token classes across the UI primitive files and app shell.

**Button.tsx** (3 zinc refs):
- `bg-zinc-800` → `bg-bg-tertiary`
- `text-zinc-100` → `text-text-primary`
- `hover:bg-zinc-700` → `hover:bg-bg-elevated`
- `text-red-400` (danger variant) → `text-error`

**Card.tsx** (2 zinc refs):
- `bg-zinc-800/50` → `bg-bg-secondary`
- `hover:bg-zinc-800/70` → `hover:bg-bg-tertiary`

**Input.tsx** (1 zinc ref in shared base):
- `bg-zinc-800` → `bg-bg-tertiary`
- `border-zinc-700` → `border-border-secondary`
- `text-white` → `text-text-primary`
- `focus:border-accent` stays (accent is already a token)

**Dialog.tsx** (3 zinc refs):
- `bg-zinc-900` → `bg-bg-secondary`
- `text-zinc-100` → `text-text-primary`
- `text-zinc-300` → `text-text-secondary`

**NumberStepper.tsx** — Read the file first. Replace any zinc-* classes with equivalent semantic tokens (bg-bg-tertiary for button backgrounds, text-text-primary for values, border-border-primary for borders, etc).

**ErrorCard.tsx** — Read the file first. Replace any zinc-* classes with semantic equivalents.

**App.tsx** (1 zinc ref):
- `hover:bg-zinc-700` → `hover:bg-bg-elevated` (in template-lost dismiss button)

**Navigation.tsx** — Already uses semantic tokens (text-accent, text-text-muted, etc). No changes needed unless zinc refs found.

Do NOT change any data-testid attributes, component interfaces, or behavior. Only CSS class names change.
  </action>
  <verify>
Run `npx vitest run` — all existing tests pass.
Run `grep -r "zinc-" src/components/ui/ src/components/Navigation.tsx src/App.tsx` — zero zinc references in these files.
Run `npx vite build` — build succeeds.
  </verify>
  <done>All UI primitives and app shell use semantic token classes exclusively. Zero hardcoded zinc-* references in Button, Card, Input, Dialog, NumberStepper, ErrorCard, Navigation, App.tsx.</done>
</task>

</tasks>

<verification>
1. `npx vite build` succeeds with no errors
2. `npx vitest run` — all unit tests pass
3. `grep -rn "zinc-" src/index.css` — only in comments or legacy HSL section
4. `grep -rn "zinc-" src/components/ui/ src/components/Navigation.tsx src/App.tsx` — zero matches
5. App renders with soft dark gray background, not near-black
</verification>

<success_criteria>
- index.css @theme block contains ONLY oklch values for all color tokens
- Background shifted from near-black to soft dark gray (18% lightness)
- All 8 UI primitive/shell files use semantic token classes exclusively
- Zero zinc-* class references in migrated files
- Build and all tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/14-workouts-ux-color/14-01-SUMMARY.md`
</output>
