---
phase: 02-templates-logging
plan: 09
type: execute
wave: 7
depends_on: ["02-08"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All Phase 2 requirements verified by human testing"
    - "Templates can be created, edited, deleted, archived, duplicated"
    - "Workouts can be started, logged, and completed"
    - "Data persists across page refresh"
  artifacts: []
  key_links: []
---

<objective>
Human verification of Phase 2 Templates & Logging functionality.

Purpose: Verify all requirements are met through hands-on testing of the complete template management and workout logging flow.

Output: Verification results documented in 02-09-SUMMARY.md.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: Verify Template Management (TMPL-01 through TMPL-07)</name>
  <what-built>Template management with create, edit, delete, archive, duplicate, and drag-drop reordering</what-built>
  <how-to-verify>
1. Navigate to Templates tab
2. Create a new template:
   - Enter name "Upper A"
   - Add 3-4 exercises via checkbox selection
   - Set different rep ranges (e.g., 8-12, 10-15)
   - Set suggested sets (e.g., 3, 4)
   - Drag to reorder exercises
   - Add a replacement exercise to one exercise
   - Save template
3. Verify template appears in list with exercise count
4. Edit the template:
   - Change name to "Upper A (Edited)"
   - Remove one exercise
   - Add a different exercise
   - Save changes
5. Duplicate the template:
   - Click menu -> Duplicate
   - Verify "Upper A (Edited) (Copy)" appears
6. Archive a template:
   - Click menu -> Archive
   - Verify template disappears from list
   - Check "Show archived" checkbox
   - Verify archived template visible with "Archived" badge
7. Restore the archived template:
   - Click menu -> Restore
   - Uncheck "Show archived"
   - Verify template is back in active list
8. Delete a template:
   - Click menu -> Delete
   - Confirm deletion
   - Verify template removed from list

Expected: All operations work, list updates correctly, data persists after page refresh
  </how-to-verify>
  <resume-signal>Type "templates-verified" or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify Workout Logging Flow (LOG-01 through LOG-09)</name>
  <what-built>Workout logging with gym/template selection, set logging, substitution, rest timer, complete/cancel</what-built>
  <how-to-verify>
1. Setup (if not already done):
   - Ensure at least 1 gym exists
   - Ensure at least 1 template with 2+ exercises exists

2. Start a workout:
   - On Workouts tab, select a gym
   - Select a template
   - Click "Start Workout"
   - Verify "WORKOUT ACTIVE" indicator in header

3. Log sets for first exercise:
   - Verify exercise name and target rep range shown
   - Use +/- steppers to set weight (e.g., 50kg)
   - Use +/- steppers to set reps (e.g., 10)
   - Optionally set RIR
   - Click "Log Set"
   - Verify set appears in list below
   - Log 2-3 more sets

4. Test rest timer:
   - Click "Start Rest" button
   - Verify countdown begins
   - Test "+30s" and "+1m" extend buttons
   - Test "Skip" to end early
   - Start timer again and let it reach 0
   - Verify sound/vibration notification (if supported)

5. Navigate to next exercise:
   - Click "Next" button or swipe left
   - Verify progress indicator updates
   - Log a set for this exercise

6. Test exercise substitution:
   - Tap on exercise name
   - Verify substitution modal appears
   - Select a different exercise from library
   - Verify "(sub)" indicator appears on exercise name
   - Log a set for substituted exercise
   - Tap name again and click "Revert to Original"
   - Verify original exercise restored

7. Complete workout:
   - Click "Finish Workout"
   - Verify summary shows: total sets, exercises, duration, volume
   - If any exercises have 0 sets, verify warning shown
   - Click "Save Workout"
   - Verify returned to start workout view
   - Verify event count increased in header

8. Test cancel workflow:
   - Start another workout
   - Log 1-2 sets
   - Click "Cancel"
   - Verify confirmation shows set count
   - Confirm cancel
   - Verify returned to start view
   - Verify event count did NOT increase (workout not saved)

9. Test session persistence:
   - Start a workout
   - Log a set
   - Refresh the page (F5 or Cmd+R)
   - Verify workout session restored
   - Verify logged set still present
   - Complete or cancel the workout

Expected: Full workflow works, data saves correctly, session survives refresh
  </how-to-verify>
  <resume-signal>Type "logging-verified" or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify Data Persistence</name>
  <what-built>Event sourcing with DuckDB-WASM and OPFS persistence</what-built>
  <how-to-verify>
1. Complete a full workout (if not done in previous task)
2. Note the event count in header
3. Close the browser tab completely
4. Open the app again
5. Verify:
   - Templates still exist
   - Gyms still exist
   - Exercises still exist
   - Event count matches what was shown before
6. Navigate to Templates tab
7. Verify all previously created templates are present

If running in "demo mode" (no OPFS support):
- Data will NOT persist across tab close
- This is expected for Firefox/Safari
- Verify persistence within same tab session (refresh should work)

Expected: Data persists in Chrome/Edge with OPFS, or within session in other browsers
  </how-to-verify>
  <resume-signal>Type "persistence-verified" or describe issues</resume-signal>
</task>

</tasks>

<verification>
Human tester has verified:
- [ ] Template CRUD (create, read, update, delete)
- [ ] Template archive/restore
- [ ] Template duplicate
- [ ] Drag-drop reordering in template builder
- [ ] Workout start (gym + template selection)
- [ ] Set logging (weight, reps, RIR)
- [ ] Rest timer (start, extend, skip, notification)
- [ ] Exercise navigation (buttons, swipe)
- [ ] Exercise substitution (predefined, library, custom, revert)
- [ ] Workout complete (summary, save)
- [ ] Workout cancel (confirmation, discard)
- [ ] Session persistence (survives refresh)
- [ ] Data persistence (survives tab close in supported browsers)
</verification>

<success_criteria>
All Phase 2 requirements verified:
- TMPL-01 through TMPL-07 (template management)
- LOG-01 through LOG-09 (workout logging)
</success_criteria>

<output>
After completion, create `.planning/phases/02-templates-logging/02-09-SUMMARY.md` with verification results.
</output>
