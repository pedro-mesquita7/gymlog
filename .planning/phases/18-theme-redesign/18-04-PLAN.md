---
phase: 18-theme-redesign
plan: 04
type: execute
wave: 2
depends_on: ["18-01"]
files_modified:
  - src/components/analytics/AnalyticsPage.tsx
  - src/components/analytics/ChartContainer.tsx
  - src/components/analytics/CollapsibleSection.tsx
  - src/components/analytics/ExerciseProgressChart.tsx
  - src/components/analytics/MuscleHeatMap.tsx
  - src/components/analytics/PRListCard.tsx
  - src/components/analytics/ProgressionDashboard.tsx
  - src/components/analytics/ProgressionStatusCard.tsx
  - src/components/analytics/SectionHeading.tsx
  - src/components/analytics/SummaryStatsCards.tsx
  - src/components/analytics/TimeRangePicker.tsx
  - src/components/analytics/VolumeBarChart.tsx
  - src/components/analytics/VolumeLegend.tsx
  - src/components/analytics/VolumeZoneIndicator.tsx
  - src/components/analytics/WeekComparisonCard.tsx
autonomous: true

must_haves:
  truths:
    - "All analytics cards have rounded corners and match warm theme"
    - "Chart tooltips, grid lines, and backgrounds use warm palette"
    - "MuscleHeatMap hardcoded colors updated to warm palette"
    - "Legacy HSL chart color references in ExerciseProgressChart work correctly"
  artifacts:
    - path: "src/components/analytics/MuscleHeatMap.tsx"
      provides: "Heat map with warm palette colors"
      contains: "oklch"
    - path: "src/components/analytics/ExerciseProgressChart.tsx"
      provides: "Chart with updated tooltip styling"
      contains: "tooltip"
  key_links:
    - from: "src/index.css"
      to: "src/components/analytics/ExerciseProgressChart.tsx"
      via: "Legacy HSL variables consumed by hsl(var(--accent))"
      pattern: "hsl\\(var\\(--"
    - from: "src/index.css"
      to: "src/components/analytics/MuscleHeatMap.tsx"
      via: "Hardcoded OKLCH values that must match new palette"
      pattern: "oklch|#3f3f3f"
---

<objective>
Apply the warm theme to all analytics and chart components, including migrating hardcoded colors in MuscleHeatMap and updating Recharts styling to align with the warm palette.

Purpose: Analytics is the portfolio showcase -- chart aesthetics directly impact recruiter/reviewer impressions. This plan handles the most complex theming work: Recharts configuration, SVG fill attributes, and hardcoded color migration.
Output: 15 analytics files updated with warm theme, hardcoded colors migrated, chart styling unified.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/18-theme-redesign/18-CONTEXT.md
@.planning/phases/18-theme-redesign/18-RESEARCH.md
@.planning/phases/18-theme-redesign/18-01-SUMMARY.md
@src/index.css
@src/components/analytics/ExerciseProgressChart.tsx
@src/components/analytics/MuscleHeatMap.tsx
@src/components/analytics/VolumeBarChart.tsx
@src/components/analytics/ChartContainer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update chart components and fix hardcoded colors</name>
  <files>
    src/components/analytics/ExerciseProgressChart.tsx
    src/components/analytics/MuscleHeatMap.tsx
    src/components/analytics/VolumeBarChart.tsx
    src/components/analytics/ChartContainer.tsx
    src/components/analytics/SummaryStatsCards.tsx
    src/components/analytics/WeekComparisonCard.tsx
  </files>
  <action>
Read ALL files first, then apply:

**ExerciseProgressChart.tsx:**
- Update Recharts tooltip contentStyle to use CSS var(--color-chart-tooltip-bg) and var(--color-chart-tooltip-border) -- these are now warm-toned via Plan 01
- Verify `hsl(var(--accent))`, `hsl(var(--chart-success))`, `hsl(var(--chart-primary))` still work with the updated legacy HSL values in index.css. If they were already warm or kept as-is, no change needed.
- Replace any `rounded-lg` with `rounded-2xl`
- Update chart grid line colors if hardcoded (should reference var(--color-chart-muted))

**MuscleHeatMap.tsx -- CRITICAL hardcoded colors:**
- Has 3 rounded-lg occurrences -- update all
- Find and replace `#3f3f3f` (defaultFill) with a warm equivalent: `oklch(0.25 0.012 60)` or use CSS var
- Find hardcoded OKLCH values and update to match warm palette direction (shift hue from cool to ~60)
- If SVG fill attributes don't support CSS var(), use computed hex values that match the new warm palette
- Test that react-muscle-highlighter still renders correctly with new colors

**VolumeBarChart.tsx:**
- Update tooltip styling to use warm chart tooltip tokens
- Replace `rounded-lg` with `rounded-2xl` for container
- Update any hardcoded colors to use CSS variables

**ChartContainer.tsx:**
- Replace `rounded-lg` with `rounded-2xl`
- Add shadow if it wraps chart cards

**SummaryStatsCards.tsx:**
- Has 2 rounded-lg -- replace with rounded-2xl
- Soften borders

**WeekComparisonCard.tsx:**
- Has 1 rounded-lg -- replace with rounded-2xl
  </action>
  <verify>
`npm run build` succeeds. `grep "#3f3f3f" src/components/analytics/MuscleHeatMap.tsx` returns 0 matches. `grep -r "rounded-lg" src/components/analytics/ExerciseProgressChart.tsx src/components/analytics/MuscleHeatMap.tsx src/components/analytics/VolumeBarChart.tsx src/components/analytics/ChartContainer.tsx src/components/analytics/SummaryStatsCards.tsx src/components/analytics/WeekComparisonCard.tsx` returns 0 matches.
  </verify>
  <done>Chart components use warm tooltip tokens. MuscleHeatMap hardcoded colors replaced. No #3f3f3f hex remains. All 6 files use rounded-2xl.</done>
</task>

<task type="auto">
  <name>Task 2: Sweep remaining analytics components</name>
  <files>
    src/components/analytics/AnalyticsPage.tsx
    src/components/analytics/CollapsibleSection.tsx
    src/components/analytics/PRListCard.tsx
    src/components/analytics/ProgressionDashboard.tsx
    src/components/analytics/ProgressionStatusCard.tsx
    src/components/analytics/SectionHeading.tsx
    src/components/analytics/TimeRangePicker.tsx
    src/components/analytics/VolumeLegend.tsx
    src/components/analytics/VolumeZoneIndicator.tsx
  </files>
  <action>
Read ALL files first, then apply:

**For ALL files:**
- Replace `rounded-lg` with `rounded-2xl` for card-like containers
- Replace `rounded-lg` with `rounded-xl` for buttons, inputs, smaller elements
- Soften borders on card elements (remove or change to border-border-primary)
- Keep borders used as dividers between list items

**Specific attention:**
- **AnalyticsPage.tsx:** Has 4 rounded-lg. This is the main page wrapper -- update container elements.
- **ProgressionDashboard.tsx:** Has 4 rounded-lg. Update all card containers.
- **CollapsibleSection.tsx:** Read carefully -- it uses border classes for collapsible behavior. Keep structural borders.
- **TimeRangePicker.tsx:** Likely has button-like elements -- use rounded-xl.
- **VolumeLegend.tsx, VolumeZoneIndicator.tsx:** May have small badges/indicators -- use rounded-xl or keep rounded-full for dots.
- **SectionHeading.tsx:** May have border-b for section separation -- keep it.

**Do NOT change:**
- Volume zone colors (these are intentionally saturated per design direction)
- Progression status colors (green/amber/red stay saturated)
- PR badge colors (gold/yellow stays saturated)
  </action>
  <verify>
`npm run build` succeeds. `grep -r "rounded-lg" src/components/analytics/` returns 0 matches across all analytics files.
  </verify>
  <done>All 9 remaining analytics files use rounded-2xl/rounded-xl. No rounded-lg remains in analytics/ directory. Build succeeds.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. `grep -r "rounded-lg" src/components/analytics/` returns 0 matches
3. `grep "#3f3f3f" src/components/analytics/` returns 0 matches
4. MuscleHeatMap renders without errors (no broken SVG fills)
5. Chart tooltips use warm background colors from CSS tokens
</verification>

<success_criteria>
- All 15 analytics files updated with rounded-2xl/rounded-xl
- MuscleHeatMap hardcoded colors (#3f3f3f, hardcoded OKLCH) replaced with warm equivalents
- ExerciseProgressChart legacy HSL references verified working
- Chart tooltip styling uses warm CSS tokens
- No rounded-lg remains in analytics/ directory
- Build compiles successfully
</success_criteria>

<output>
After completion, create `.planning/phases/18-theme-redesign/18-04-SUMMARY.md`
</output>
