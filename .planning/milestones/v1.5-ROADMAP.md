# Milestone v1.5: Real Workout Polish

**Status:** SHIPPED 2026-02-04
**Phases:** 22-27
**Total Plans:** 17

## Overview

Transform GymLog from a feature-complete analytics tool into a polished daily-use workout app. Starting with a cool blue/teal theme overhaul and bug fixes that propagate globally, then simplifying analytics by removing underused features, restructuring settings and UI for mobile density, adding exercise notes and warmup systems with event sourcing integration, and finishing with production cleanup.

## Phases

### Phase 22: Bug Fixes + Theme Overhaul
**Goal**: Users see a clean blue/teal app with no rotation or build errors
**Depends on**: Phase 21 (v1.4 complete)
**Requirements**: BUG-01, BUG-02, THEME-01, THEME-02, THEME-03, THEME-04
**Plans**: 5 plans

Plans:
- [x] 22-01-PLAN.md -- Fix rotation bug + overhaul index.css color tokens
- [x] 22-02-PLAN.md -- Migrate hardcoded chart/component colors to teal
- [x] 22-03-PLAN.md -- Fix text-black contrast on accent backgrounds
- [x] 22-04-PLAN.md -- Replace rounded-2xl with rounded-xl app-wide
- [x] 22-05-PLAN.md -- Verification sweep + visual checkpoint

**Success Criteria:**
1. Quick Start works without "plan or gym not found" error when default gym and rotation exist
2. TypeScript build completes with zero errors (tsc --noEmit passes)
3. All accent colors are blue/teal throughout the app (no orange remnants)
4. Charts and data visualizations use the new blue/teal palette
5. All text/background combinations pass WCAG AA contrast (4.5:1 ratio)

### Phase 23: Analytics Simplification
**Goal**: Analytics page is focused on what matters -- exercise progress and volume
**Depends on**: Phase 22 (theme tokens applied to charts)
**Requirements**: ANLY-01, ANLY-02, ANLY-03, ANLY-04
**Plans**: 2 plans

Plans:
- [x] 23-01-PLAN.md -- Remove dead code + restructure analytics layout with collapsible sections
- [x] 23-02-PLAN.md -- Build week comparison subtitle + visual verification

**Success Criteria:**
1. Analytics page shows exercise progress charts (weight, 1RM, volume trends)
2. Analytics page shows weekly volume summary per muscle group
3. Comparison section, progression dashboard, and plateau detection are gone from the UI
4. Time range filtering (1M/3M/6M/1Y/All) still works on remaining analytics

### Phase 24: Settings + UI Polish
**Goal**: Settings and UI are organized for daily mobile use, not developer exploration
**Depends on**: Phase 22 (theme applied), Phase 23 (removed analytics sections)
**Requirements**: UIPOL-01, UIPOL-02, UIPOL-03, UIPOL-04, UIPOL-05
**Plans**: 3 plans

Plans:
- [x] 24-01-PLAN.md -- Clean redundant inner titles + compact set logging grid
- [x] 24-02-PLAN.md -- Settings restructure with developer toggle + simplified export
- [x] 24-03-PLAN.md -- Rotation UX redesign (active prominent, others collapsed, create collapsed)

**Success Criteria:**
1. Collapsed Exercises/Gyms/Settings sections show clean headers without redundant text
2. Set logging grid is compact and mobile-friendly (batch grid layout)
3. Settings top level shows Default Gym, Rotation, and TOON Export only
4. Debug sections (observability, data quality, demo data) are hidden behind a Developer toggle
5. Rotation section shows current rotation prominently, others are expandable, create-new is collapsed

### Phase 25: Exercise Notes
**Goal**: Users can write and review notes about exercises across workout sessions
**Depends on**: Phase 22 (theme), Phase 24 (UI polish context)
**Requirements**: NOTE-01, NOTE-02, NOTE-03
**Plans**: 2 plans

Plans:
- [x] 25-01-PLAN.md -- Note data layer: event type, session state, store action, event persistence
- [x] 25-02-PLAN.md -- Note UI component with tap-to-reveal input, history display, ExerciseView integration

**Success Criteria:**
1. User sees a free text field per exercise during workout logging
2. Notes persist after workout completion (stored via event sourcing)
3. Previous session notes are visible when logging the same exercise in a future workout

### Phase 26: Warmup System
**Goal**: Users see auto-calculated warmup hints before working sets during workout logging
**Depends on**: Phase 22 (theme), Phase 25 (notes may share logging UI changes)
**Requirements**: WARM-01, WARM-02, WARM-03, WARM-04, WARM-05
**Plans**: 2 plans

Plans:
- [x] 26-01-PLAN.md -- Warmup utilities, store extension, and DuckDB data hook
- [x] 26-02-PLAN.md -- WarmupHint UI component and Settings tier editor

**Success Criteria:**
1. Warmup hints show for all weighted exercises globally (no per-exercise toggle)
2. Warmup-enabled exercises show 2 warmup tiers with auto-calculated weights during logging
3. Warmup weights are based on max weight from last completed session (not all-time PR)
4. Default warmup tiers are 50% x 5 reps and 75% x 3 reps, configurable in Settings

### Phase 27: Production Polish
**Goal**: Codebase is clean, documented, and tested for the v1.5 release
**Depends on**: All previous phases (22-26)
**Requirements**: PROD-01, PROD-02, PROD-03
**Plans**: 3 plans

Plans:
- [x] 27-01-PLAN.md -- Dead code cleanup + version bump to 1.5.0
- [x] 27-02-PLAN.md -- README rewrite for portfolio audience
- [x] 27-03-PLAN.md -- E2E test fixes + new notes/warmup coverage

**Success Criteria:**
1. README and architecture diagrams reflect v1.5 changes (removed features, new features)
2. No dead code from removed comparison/progression/plateau features remains
3. E2E tests pass against the updated UI structure (settings, analytics, logging changes)

## Progress

| Phase | Plans Complete | Status | Completed |
|-------|---------------|--------|-----------|
| 22. Bug Fixes + Theme Overhaul | 5/5 | Complete | 2026-02-02 |
| 23. Analytics Simplification | 2/2 | Complete | 2026-02-02 |
| 24. Settings + UI Polish | 3/3 | Complete | 2026-02-02 |
| 25. Exercise Notes | 2/2 | Complete | 2026-02-03 |
| 26. Warmup System | 2/2 | Complete | 2026-02-03 |
| 27. Production Polish | 3/3 | Complete | 2026-02-04 |

---

## Milestone Summary

**Key Decisions:**
- Teal accent at oklch(68% 0.10 185) with text-white on all accent backgrounds
- MuscleHeatMap keeps hardcoded OKLCH (not CSS vars) for SVG fill compatibility
- Summary Stats always visible; all other analytics sections collapsible
- developerMode stored in rotation store (co-located with app preferences)
- Notes keyed by original_exercise_id for consistent lookup across substitutions
- Warmup tiers stored in useWorkoutStore alongside workout preferences
- DuckDB warmup query filters by original_exercise_id AND exercise_id, no gym_id
- Kept ProgressionAlert/useExerciseProgression (active workout feature, not dead code)
- Removed clearAllData from app (E2E tests define own version in fixtures)
- Remove onChange from SetRow useEffect deps to prevent infinite render loop
- Rewrite useRecentWorkout to query events table (not dbt fact/dim tables)

**Issues Resolved:**
- Rotation "plan or gym not found" error (templateId->planId property mismatch)
- SetRow/SetGrid infinite render loop (onChange callback stability)
- useRecentWorkout querying non-existent dbt tables at runtime
- 55+ dead files from removed comparison/progression/plateau features

**Technical Debt:**
- 55 pre-existing ESLint errors (no-explicit-any, React hooks rules) -- cosmetic
- 1 flaky E2E test (batch-logging ghost data) -- intermittent, unrelated to v1.5
- vw_progression_status.sql orphan in dbt/models -- removed from README but file remains

---

*For current project status, see .planning/ROADMAP.md*
